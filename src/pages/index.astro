---
import YU from "@components/YU.astro";
import Base from "@layouts/Base.astro";

const response = await fetch(import.meta.env.KEY + "/rest/v1/videos", {
 headers: {
  apikey: import.meta.env.KEY_ANON,
 },
});
const items = await response.json();
---

<Base>
 <main class="my-20 container mx-auto px-6">
  <div class="flex flex-col gap-5 my-10">
   <h2 class="text-2xl font-bold">За последние 24 часа.</h2>
   <p><b>Каналы:</b> Савромат, Кац, Наки</p>
  </div>
  <div class="grid gap-5 items-start grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
   {
    items.map((post) => (
     <div class="flex flex-col gap-5 bg-white rounded-md p-5">
      <h3 class="text-lg flex items-start gap-2">
       <div>
        <YU />
       </div>{" "}
       <span>{post.title}</span>
      </h3>
      <a
       href={post.link}
       class="text-center bg-blue-500 text-white w-full py-2 rounded-md font-medium hover:bg-blue-600"
      >
       Смотреть
      </a>
     </div>
    ))
   }
  </div>
 </main>
</Base>
