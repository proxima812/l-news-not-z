---
import YU from "@components/YU.astro";
import { machineDate, readableDate } from "@lib/utils/dates";
const { post } = Astro.props;
---

<article>
 <div class="relative">
  <div
   class="bg-black/60 backdrop-blur-sm rounded-md absolute top-0 left-0 h-[340px] w-full"
  >
  </div>
  <iframe
   width="100%"
   height="340px"
   src={`https://www.youtube.com/embed/${post.videoId}?si=${post.channelId}`}
   title="YouTube"
   frameborder="0"
   allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
   allowfullscreen
   class="rounded-md"></iframe>
  <main class="text-white absolute w-full top-0 left-0 z-10">
   <div class="flex flex-col gap-5 rounded-md p-5">
    <h3 class="text-lg flex font-bold items-start gap-2">{post.title}</h3>
   </div>
  </main>
  <footer class="text-white absolute w-full bottom-5">
   <div class="px-5 flex items-center justify-between">
    <time
     class="font-medium"
     datetime={machineDate(post.createdat)}
     set:text={readableDate(post.createdat)}
    />
    <a
     href={post.link}
     class="flex items-center gap-2 bg-white/70 backdrop-blur-lg font-medium text-black py-1 px-3 rounded-md hover:bg-white"
    >
     <YU />
     <span>Смотреть на <b>youtube</b></span>
    </a>
   </div>
  </footer>
 </div>
</article>
